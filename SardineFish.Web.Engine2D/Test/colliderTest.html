<!DOCTYPE HTML><html>    <head>        <title>Collider Test</title>        <script src="jquery.min.js"></script>        <script src="../SardineFish.Web.js"></script>        <script src="../SardineFish.Web.UI.js"></script>        <script src="../SardineFish.Web.Engine2D.js"></script>        <script src="../SardineFish.Web.Engine2D.Colliders.js"></script>        <script src="../SardineFish.Web.Engine2D.GUI.js"></script>        <meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no,target-densitydpi=device-dpi" />        <meta name="apple-mobile-web-app-capable" content="yes" />        <meta name="browsermode" content="application" />        <meta name="full-screen" content="true" />        <meta name="x5-fullscreen" content="true" />        <meta name="x5-page-mode" content="app" />        <meta name="360-fullscreen" content="true" />        <style>            html{                -ms-touch-action: none;  /*Direct all pointer events to JavaScript code. */                overflow: hidden;            }            body{                margin: 0px;                padding: 0px;                background-color: rgb(240,240,240);            }            #debug{                display: none;                position: fixed;                 top: 0px;                left: 0px;                z-index: 1000;                color: red;            }            #textCount{                position: fixed;                display: none;                float: left;                z-index: 1000;            }            #menu{                background-color: white;                position: fixed;                top: 0px;                display: block;                width: 100%;                height: 100%;                /*text-align: center;*/            }            #menuContent{                display: block;                position: fixed;                width: 100%;                height: 70%;                top: 30%;            }            #startMenu{                position: relative;                max-width: 200px;                margin: auto;                top: 15%;            }            #title{                text-align: center;                font-size: 1cm;            }            #score{                margin-top:3mm;                text-align: center;            }            #score:before{                content: "last: ";            }            #score:after{                content: "px";            }            #maxScore{                margin-top:5mm;                text-align: center;            }            #maxScore:before{                content: "Max distance: ";            }            #maxScore:after{                content: "px";            }            #buttonStart{                font-size: 5mm;            }        </style>        <link rel="stylesheet" type="text/css" href="runningGame.css" />    </head>    <body oncontextmenu="return false;"><!--        <a href="http://cdn.bootcss.com/jquery/2.1.4/jquery.min.js" download="jquery.min.js" >jquery.min.js</a>        -->        <p id="debug" >debug</p>        <p id="textCount">0</p>        <div>            <canvas id="canvas" width="480" height="500"></canvas>            <div style="height: 200px; background-color:black"></div>        </div>                <script>try{    Math.sign = function (x)    {        if (isNaN(x) || x == 0)            return 0;        if (x > 0)            return 1;        else            return -1;    }var canvas=document.getElementById("canvas");var width=canvas.width;var height=canvas.height;var game=Game.createByCanvas(canvas);var scene=game.scene;var graphics=game.graphics;var camera=scene.camera;var lastP=null;scene.onTouchStart = sceneTouch;scene.onClick = sceneTouch;init();function init(){
    width = screen.availWidth;    height = screen.availHeight;    canvas.height = height;    canvas.width = width;    game.start();    camera.moveTo(width/2,height/2);    var hor=new Rectangle(width,10);    hor.strokeStyle=new Color(255,0,0,1);    hor.fillStyle=new Color(255,0,0,1);    hor.rigidBody=true;    hor.static=true;    hor.soft=false;    var ver=new Rectangle(10,height);    ver.strokeStyle=new Color(255,0,0,1);    ver.fillStyle=new Color(255,0,0,1);    ver.rigidBody=true;    ver.static=true;    ver.soft=false;    var ground=new GameObject();    ground.graphic=hor.copy();    ground.collider=ground.graphic;    ground.collider.setCenter(Align.middleLeft);    ground.collider.setPosition(0,0);    scene.addGameObject(ground);    var roof=new GameObject();    roof.graphic=hor.copy();    roof.collider=roof.graphic;    roof.collider.setCenter(Align.middleLeft);    roof.collider.setPosition(0,height);    scene.addGameObject(roof);    var wallLeft=new GameObject();    wallLeft.graphic=ver.copy();    wallLeft.collider=wallLeft.graphic;    wallLeft.collider.setCenter(Align.bottomCenter);    wallLeft.collider.setPosition(0,0);    scene.addGameObject(wallLeft);    var wallRight=new GameObject();    wallRight.graphic=ver.copy();    wallRight.collider=wallRight.graphic;    wallRight.collider.setCenter(Align.bottomCenter);    wallRight.collider.setPosition(width,0);    scene.addGameObject(wallRight);}function sceneTouch(e){    try {//alert((new Point(e.x,e.y)).toString());    var c=new Circle(50);    c.rigidBody=true;    c.static=false;    c.soft=true;    c.setPosition(e.x,e.y);//alert(c.o);    c.strokeStyle=new Color(0,0,0,1);    var obj=new GameObject();    obj.graphic=c;    obj.collider=c;    scene.addGameObject(obj);    if(lastP)    {        obj.v=new Vector2(lastP.x-e.x,(lastP.y-e.y)*0.7);    }    lastP=new Point(e.x,e.y);    }catch(ex)    {        alert(ex.message);    }}}catch(ex){    alert("global:"+ex.message);}        </script>    </body></html>